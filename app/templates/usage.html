<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Usage - TalkyMcTalkface</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }
    code {
      font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
    }
    pre {
      font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen">
  <!-- Header with frosted glass effect -->
  <header class="sticky top-0 z-50 backdrop-blur-xl bg-white/70 border-b border-gray-200/50 shadow-sm">
    <div class="max-w-4xl mx-auto px-6 py-4 flex items-center justify-between">
      <div>
        <h1 class="text-xl font-semibold text-gray-800">TalkyMcTalkface</h1>
        <p class="text-sm text-gray-500">Usage Guide</p>
      </div>
      <a href="/" class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium rounded-lg transition-colors">
        Open Web UI
      </a>
    </div>
  </header>

  <!-- Main content -->
  <main class="max-w-4xl mx-auto px-6 py-8">

    <!-- Quick Start -->
    <section class="bg-white rounded-xl shadow-sm border border-gray-200/50 p-6 mb-6">
      <h2 class="text-lg font-semibold text-gray-800 mb-4">Quick Start</h2>
      <p class="text-gray-600 mb-4">TalkyMcTalkface converts text to speech using AI voice cloning. Use it via the Web UI, CLI tool, or REST API.</p>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <a href="/" class="block p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors">
          <div class="font-medium text-blue-800 mb-1">Web UI</div>
          <div class="text-sm text-blue-600">Generate speech in your browser</div>
        </a>
        <a href="#cli" class="block p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors">
          <div class="font-medium text-green-800 mb-1">CLI Tool</div>
          <div class="text-sm text-green-600">Use from Terminal</div>
        </a>
        <a href="#api" class="block p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors">
          <div class="font-medium text-purple-800 mb-1">REST API</div>
          <div class="text-sm text-purple-600">Integrate with your apps</div>
        </a>
      </div>
    </section>

    <!-- CLI Tool -->
    <section id="cli" class="bg-white rounded-xl shadow-sm border border-gray-200/50 p-6 mb-6">
      <h2 class="text-lg font-semibold text-gray-800 mb-4">CLI Tool</h2>
      <p class="text-gray-600 mb-4">The <code class="bg-gray-100 px-1.5 py-0.5 rounded text-sm">talky</code> command lets you generate speech from Terminal.</p>

      <h3 class="font-medium text-gray-700 mb-2">Basic Usage</h3>
      <pre class="bg-gray-900 text-gray-100 rounded-lg p-4 mb-4 overflow-x-auto text-sm"><code>talky "Hello world"</code></pre>

      <h3 class="font-medium text-gray-700 mb-2">Options</h3>
      <div class="bg-gray-50 rounded-lg p-4 mb-4 overflow-x-auto">
        <table class="w-full text-sm">
          <tbody>
            <tr class="border-b border-gray-200">
              <td class="py-2 pr-4 font-mono text-blue-600">-v, --voice ID</td>
              <td class="py-2 text-gray-600">Use a specific voice</td>
            </tr>
            <tr class="border-b border-gray-200">
              <td class="py-2 pr-4 font-mono text-blue-600">-q, --queue</td>
              <td class="py-2 text-gray-600">Queue job and exit immediately (non-blocking)</td>
            </tr>
            <tr class="border-b border-gray-200">
              <td class="py-2 pr-4 font-mono text-blue-600">--voices</td>
              <td class="py-2 text-gray-600">List all available voices</td>
            </tr>
            <tr>
              <td class="py-2 pr-4 font-mono text-blue-600">-h, --help</td>
              <td class="py-2 text-gray-600">Show help</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h3 class="font-medium text-gray-700 mb-2">Examples</h3>
      <pre class="bg-gray-900 text-gray-100 rounded-lg p-4 mb-4 overflow-x-auto text-sm"><code><span class="text-gray-500"># Generate with default voice</span>
talky "Hello world"

<span class="text-gray-500"># Use a specific voice</span>
talky -v morgan-freeman "I can do any voice"

<span class="text-gray-500"># Queue without waiting (app auto-plays)</span>
talky -q "Queue this and continue working"

<span class="text-gray-500"># Pipe text from another command</span>
echo "Hello from a pipe" | talky

<span class="text-gray-500"># List available voices</span>
talky --voices</code></pre>

      <div class="bg-amber-50 border border-amber-200 rounded-lg p-4">
        <div class="flex items-start">
          <svg class="w-5 h-5 text-amber-500 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <p class="text-amber-800 text-sm">The TalkyMcTalkface app must be running for the CLI to work. The CLI connects to the local server at <code class="bg-amber-100 px-1 rounded">http://127.0.0.1:5111</code>.</p>
        </div>
      </div>
    </section>

    <!-- REST API -->
    <section id="api" class="bg-white rounded-xl shadow-sm border border-gray-200/50 p-6 mb-6">
      <h2 class="text-lg font-semibold text-gray-800 mb-4">REST API</h2>
      <p class="text-gray-600 mb-4">The API runs at <code class="bg-gray-100 px-1.5 py-0.5 rounded text-sm">http://127.0.0.1:5111</code>. Full interactive docs are available at <a href="/docs" class="text-blue-600 hover:underline">/docs</a>.</p>

      <h3 class="font-medium text-gray-700 mb-2">Endpoints</h3>
      <div class="bg-gray-50 rounded-lg p-4 mb-4 overflow-x-auto">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-gray-300">
              <th class="text-left py-2 pr-4 font-medium text-gray-700">Method</th>
              <th class="text-left py-2 pr-4 font-medium text-gray-700">Endpoint</th>
              <th class="text-left py-2 font-medium text-gray-700">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-b border-gray-200">
              <td class="py-2 pr-4 font-mono text-green-600">GET</td>
              <td class="py-2 pr-4 font-mono text-gray-800">/health</td>
              <td class="py-2 text-gray-600">Server status and model info</td>
            </tr>
            <tr class="border-b border-gray-200">
              <td class="py-2 pr-4 font-mono text-green-600">GET</td>
              <td class="py-2 pr-4 font-mono text-gray-800">/voices</td>
              <td class="py-2 text-gray-600">List available voices</td>
            </tr>
            <tr class="border-b border-gray-200">
              <td class="py-2 pr-4 font-mono text-blue-600">POST</td>
              <td class="py-2 pr-4 font-mono text-gray-800">/jobs</td>
              <td class="py-2 text-gray-600">Create TTS job</td>
            </tr>
            <tr class="border-b border-gray-200">
              <td class="py-2 pr-4 font-mono text-green-600">GET</td>
              <td class="py-2 pr-4 font-mono text-gray-800">/jobs/{id}</td>
              <td class="py-2 text-gray-600">Get job status</td>
            </tr>
            <tr class="border-b border-gray-200">
              <td class="py-2 pr-4 font-mono text-green-600">GET</td>
              <td class="py-2 pr-4 font-mono text-gray-800">/jobs/{id}/audio</td>
              <td class="py-2 text-gray-600">Download audio file</td>
            </tr>
            <tr>
              <td class="py-2 pr-4 font-mono text-red-600">DELETE</td>
              <td class="py-2 pr-4 font-mono text-gray-800">/jobs/{id}</td>
              <td class="py-2 text-gray-600">Delete a job</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h3 class="font-medium text-gray-700 mb-2">Example: Generate Speech</h3>
      <pre class="bg-gray-900 text-gray-100 rounded-lg p-4 mb-4 overflow-x-auto text-sm"><code><span class="text-gray-500"># 1. Create a TTS job</span>
curl -X POST http://127.0.0.1:5111/jobs \
  -H "Content-Type: application/json" \
  -d '{"text": "Hello world", "voice_id": null}'

<span class="text-gray-500"># Response: {"id": "abc123", "status": "pending", ...}</span>

<span class="text-gray-500"># 2. Check job status (poll until "completed")</span>
curl http://127.0.0.1:5111/jobs/abc123

<span class="text-gray-500"># 3. Download audio when complete</span>
curl http://127.0.0.1:5111/jobs/abc123/audio -o output.wav</code></pre>

      <h3 class="font-medium text-gray-700 mb-2">Example: Use a Custom Voice</h3>
      <pre class="bg-gray-900 text-gray-100 rounded-lg p-4 overflow-x-auto text-sm"><code><span class="text-gray-500"># List voices</span>
curl http://127.0.0.1:5111/voices

<span class="text-gray-500"># Create job with specific voice</span>
curl -X POST http://127.0.0.1:5111/jobs \
  -H "Content-Type: application/json" \
  -d '{"text": "Hello world", "voice_id": "morgan-freeman"}'</code></pre>
    </section>

    <!-- Voice Library -->
    <section id="voices" class="bg-white rounded-xl shadow-sm border border-gray-200/50 p-6 mb-6">
      <h2 class="text-lg font-semibold text-gray-800 mb-4">Voice Library</h2>
      <p class="text-gray-600 mb-4">Add custom voices by placing audio files in the voices directory.</p>

      <div class="bg-gray-50 rounded-lg p-4 mb-4">
        <div class="font-mono text-sm text-gray-700 mb-2">~/Library/Application Support/TalkyMcTalkface/voices/</div>
        <p class="text-sm text-gray-500">Place .wav files here. The filename becomes the voice ID.</p>
      </div>

      <h3 class="font-medium text-gray-700 mb-2">Voice File Requirements</h3>
      <ul class="list-disc list-inside text-gray-600 text-sm space-y-1 mb-4">
        <li>Format: WAV (16-bit PCM recommended)</li>
        <li>Duration: 5-30 seconds of clear speech</li>
        <li>Quality: Clean audio, minimal background noise</li>
        <li>Content: Natural speech (reading, conversation)</li>
      </ul>

      <h3 class="font-medium text-gray-700 mb-2">Example</h3>
      <pre class="bg-gray-900 text-gray-100 rounded-lg p-4 overflow-x-auto text-sm"><code><span class="text-gray-500"># Add a voice file</span>
cp my-voice.wav ~/Library/Application\ Support/TalkyMcTalkface/voices/

<span class="text-gray-500"># Use it immediately</span>
talky -v my-voice "Testing my custom voice"</code></pre>
    </section>

    <!-- Troubleshooting -->
    <section class="bg-white rounded-xl shadow-sm border border-gray-200/50 p-6">
      <h2 class="text-lg font-semibold text-gray-800 mb-4">Troubleshooting</h2>

      <div class="space-y-4">
        <div>
          <h3 class="font-medium text-gray-700 mb-1">"Server not running" error</h3>
          <p class="text-gray-600 text-sm">Make sure the TalkyMcTalkface app is open. The CLI and API require the app to be running.</p>
        </div>

        <div>
          <h3 class="font-medium text-gray-700 mb-1">"Model not loaded" error</h3>
          <p class="text-gray-600 text-sm">The TTS model (~1.5 GB) downloads on first launch. Wait for the download to complete in the app.</p>
        </div>

        <div>
          <h3 class="font-medium text-gray-700 mb-1">CLI not found</h3>
          <p class="text-gray-600 text-sm">Install the CLI from the app's Settings tab. It installs to <code class="bg-gray-100 px-1 rounded">/usr/local/bin/talky</code>.</p>
        </div>

        <div>
          <h3 class="font-medium text-gray-700 mb-1">Voice not working</h3>
          <p class="text-gray-600 text-sm">Ensure the audio file is WAV format with clear speech. Very short (&lt;3s) or noisy files may produce poor results.</p>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="max-w-4xl mx-auto px-6 py-8 text-center text-sm text-gray-400">
    <p>TalkyMcTalkface &middot; Powered by Chatterbox TTS</p>
  </footer>
</body>
</html>
